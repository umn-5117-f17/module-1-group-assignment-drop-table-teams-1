<!DOCTYPE html>
<html>
<head>
  <title>{{title}}</title>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="./javascripts/local.js"></script>
  <link rel='stylesheet' href='/stylesheets/style.css'/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.3/css/bulma.min.css">
</head>
<body>
 <div class="content">
   <h1>Below are the most similar recovery histories to you. </h1>
   <h2> Remember to take each day one at a time, and breath!</h2>
</div>




<div class= 'framewrap'>
  <ul>
  	<li><div id="user-wrapper">
     <div class="summary-wrapper" id="1"> </div> <div class="graph-wrapper" id="one"></div></div></li>
     <li><div id="user-wrapper">
      <div class="summary-wrapper" id="2"> </div> <div class="graph-wrapper" id="two"></div></div></li>
      <li><div id="user-wrapper">
       <div class="summary-wrapper" id="3"> </div> <div class="graph-wrapper" id="three"></div></div></li>
       <li><div id="user-wrapper">
        <div class="summary-wrapper" id="4"> </div> <div class="graph-wrapper" id="four"></div></div></li>
        <li><div id="user-wrapper">
         <div class="summary-wrapper" id="5"> </div> <div class="graph-wrapper" id="five"></div></div></li>
         <li><div id="user-wrapper">
          <div class="summary-wrapper" id="6"> </div> <div class="graph-wrapper" id="six"></div></div></li>
          <li><div id="user-wrapper">
           <div class="summary-wrapper" id="7"> </div> <div class="graph-wrapper" id="seven"></div></div></li>
           <li><div id="user-wrapper">
            <div class="summary-wrapper" id="8"> </div> <div class="graph-wrapper" id="eight"></div></div></li>
            <li><div id="user-wrapper">
             <div class="summary-wrapper" id="9"> </div> <div class="graph-wrapper" id="nine"></div></div></li>
             <li><div id="user-wrapper">
              <div class="summary-wrapper" id="10"> </div> <div class="graph-wrapper" id="ten"></div></div></li>
                      </ul>
                      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

                      <script type="text/javascript">


    //relapses 1-11 days, 11-30, 30+
    var relapse_cols = ["#ff0000", "#ab0000", "#460000"];
    var relapse_color = d3.scaleOrdinal().range(relapse_cols);
    //defines a function to be used to append the title to the tooltip.  you can set how you want it to display here.
  

     var parseDate = d3.timeParse("%b %d, '%y");
     var yObjs = {
      "Engagment" : {column: "Engagment"},
      "Diversity" : {column: "Diversity"},
      "Daily_Message" : {column: "Daily_Message"},
      "Relapses" : {column: "Relapses"}
    }

    var axisLabels = {xAxis: 'Time', yAxis: 'Usage'};

    var xName = "Time";
    var parseTime = d3.timeParse("%Y-%m-%d %H:%M:%S");

    d3.json('/data/output.json', function(err, data){

      console.log(Object.keys(data));
      var sims = data.userSim;
      var user1= data.user1;
      var user2= data.user2;
      var user3= data.user3;
      var user4= data.user4;
      var user5= data.user5;
      var user6= data.user6;
      var user7= data.user7;

      console.log("seven check "+user7);
      var user8= data.user8;
      var user9= data.user9;
      var user10= data.user10;






     var graphOne = createGraph(user1, xName, yObjs, axisLabels, sims[0]);
     var graphTwo = createGraph(user2, xName, yObjs, axisLabels, sims[1]);
     var graphThree= createGraph(user3, xName, yObjs, axisLabels, sims[2]);
     var graphFour = createGraph(user4, xName, yObjs, axisLabels, sims[3]);
     var graphFive = createGraph(user5, xName, yObjs, axisLabels, sims[4]);
     var graphSix = createGraph(user6, xName, yObjs, axisLabels, sims[5]);
     var graphSeven = createGraph(user7, xName, yObjs, axisLabels, sims[6]);
     var graphEight = createGraph(user8, xName, yObjs, axisLabels, sims[7]);
     var graphNine = createGraph(user9, xName, yObjs, axisLabels, sims[8]);
     var graphTen = createGraph(user10, xName, yObjs, axisLabels,sims[9]);

     graphOne.bind("#one");
     graphTwo.bind("#two");
     graphThree.bind("#three");
     graphFour.bind("#four");
     graphFive.bind("#five");
     graphSix.bind("#six");
     graphSeven.bind("#seven");
     graphEight.bind("#eight");
     graphNine.bind("#nine");
     graphTen.bind("#ten");
     graphTen.render();

     graphTwo.render();
     graphThree.render();
     graphFour.render();
     graphFive.render();
     graphSix.render();
     graphSeven.render();
     graphEight.render();
     graphNine.render();

     graphOne.render();




    });
     // createGraph('data/output.json','.graph-wrapper-2');
     // createGraph('data/output.json','.graph-wrapper-3');
     // createGraph('data/output.json','.graph-wrapper-4');
     // createGraph('data/output.json','.graph-wrapper-5');
     // createGraph('data/output.json','.graph-wrapper-6');
     // createGraph('data/output.json','.graph-wrapper-7');
     // createGraph('data/output.json','.graph-wrapper-8');
     // createGraph('data/output.json','.graph-wrapper-9');
     // createGraph('data/output.json','.graph-wrapper-10');



</script>
</body>
</html>
